# Story 7.9: Documentation and Training Materials

## Status

Pending

## Story

**As a** Security Analyst and Reviewer,
**I want** comprehensive documentation and training materials for event investigation,
**so that** I understand how to investigate event alerts and provide quality reviews.

## Acceptance Criteria

1. User guide updated with event investigation workflow examples
2. Security Analyst agent usage guide includes \*investigate-event command documentation
3. Security Reviewer agent usage guide includes event review examples
4. Troubleshooting guide includes event investigation common issues
5. Training materials created for event investigation methodology
6. JIRA workflow standards updated for event alert Issue Type
7. All documentation follows BMAD documentation standards

## Tasks / Subtasks

- [ ] Update security-analyst-agent.md user guide (AC: 2)
  - [ ] Modify `expansion-packs/bmad-1898-engineering/docs/user-guide/security-analyst-agent.md`
  - [ ] Add \*investigate-event command section
  - [ ] Document command usage: \*investigate-event {ticket-id}
  - [ ] Provide ICS/IDS/SIEM alert investigation examples
  - [ ] Document disposition framework (TP/FP/BTP)
  - [ ] Add investigation workflow diagram
  - [ ] Include troubleshooting tips

- [ ] Update security-reviewer-agent.md user guide (AC: 3)
  - [ ] Modify `expansion-packs/bmad-1898-engineering/docs/user-guide/security-reviewer-agent.md`
  - [ ] Add event investigation review section
  - [ ] Document \*review-enrichment --type=event usage
  - [ ] Explain auto-detection logic
  - [ ] Document 7 event investigation quality dimensions
  - [ ] Provide disposition agreement/disagreement examples
  - [ ] Add review workflow diagram for events

- [ ] Create event-investigation-workflow-deep-dive.md (AC: 1)
  - [ ] Create `expansion-packs/bmad-1898-engineering/docs/user-guide/event-investigation-workflow-deep-dive.md`
  - [ ] Detailed walkthrough of investigation process
  - [ ] Step-by-step guide for each investigation stage
  - [ ] Evidence collection best practices
  - [ ] Disposition determination decision tree
  - [ ] Common pitfalls and how to avoid them
  - [ ] Real-world examples (AOD-4052 walkthrough)

- [ ] Update troubleshooting-faq-best-practices.md (AC: 4)
  - [ ] Modify `expansion-packs/bmad-1898-engineering/docs/user-guide/troubleshooting-faq-best-practices.md`
  - [ ] Add event investigation troubleshooting section
  - [ ] Common issues:
    - [ ] "Unable to determine ticket type" - How to use --type parameter
    - [ ] "Missing evidence" - What logs/data are required
    - [ ] "Low confidence disposition" - When to escalate
    - [ ] "Disposition disagreement" - How reviewer and analyst resolve
  - [ ] FAQ for event investigations
  - [ ] Best practices for event investigation quality

- [ ] Create event-investigation-training.md (AC: 5)
  - [ ] Create `expansion-packs/bmad-1898-engineering/docs/training/event-investigation-training.md`
  - [ ] Training objectives and learning outcomes
  - [ ] Module 1: Introduction to Event Investigation
  - [ ] Module 2: NIST SP 800-61 Framework
  - [ ] Module 3: Investigation Methodology (hypothesis-driven, evidence collection)
  - [ ] Module 4: Disposition Framework (TP/FP/BTP)
  - [ ] Module 5: Common False Positive Patterns
  - [ ] Module 6: Cognitive Biases in Investigation
  - [ ] Module 7: ICS/SCADA-Specific Considerations
  - [ ] Module 8: Hands-On Exercises (AOD-4052 walkthrough)
  - [ ] Assessment quiz (10 questions)

- [ ] Create event-investigation-review-training.md (AC: 5)
  - [ ] Create `expansion-packs/bmad-1898-engineering/docs/training/event-investigation-review-training.md`
  - [ ] Training objectives and learning outcomes
  - [ ] Module 1: Introduction to Event Investigation Review
  - [ ] Module 2: 7 Quality Dimensions Explained
  - [ ] Module 3: Disposition Validation
  - [ ] Module 4: Blameless Feedback Principles
  - [ ] Module 5: Constructive Recommendations
  - [ ] Module 6: Hands-On Review Exercise
  - [ ] Assessment quiz (10 questions)

- [ ] Update jira-workflow-standards.md (AC: 6)
  - [ ] Modify `expansion-packs/bmad-1898-engineering/docs/architecture/jira-workflow-standards.md`
  - [ ] Add "Event Alert" Issue Type definition
  - [ ] Define required custom fields for event alerts:
    - [ ] Alert Platform (Claroty, Snort, Splunk, etc.)
    - [ ] Alert Severity (Critical, High, Medium, Low)
    - [ ] Disposition (TP, FP, BTP)
    - [ ] Confidence Level (High, Medium, Low)
    - [ ] Escalation Required (Yes, No)
  - [ ] Define JIRA workflow states for event alerts
  - [ ] Document transition rules (Open → In Progress → Reviewed → Closed)

- [ ] Create quick-reference-cards (AC: 1, 7)
  - [ ] Create `expansion-packs/bmad-1898-engineering/docs/quick-reference/` directory if it doesn't exist
  - [ ] Create `expansion-packs/bmad-1898-engineering/docs/quick-reference/event-investigation-quick-reference.md`
  - [ ] 1-page analyst quick reference card
  - [ ] 1-page reviewer quick reference card
  - [ ] Disposition decision tree (flowchart)
  - [ ] Common false positive patterns (cheat sheet)
  - [ ] Investigation methodology checklist (printable)

- [ ] Update README.md and main documentation index (AC: 7)
  - [ ] Update `expansion-packs/bmad-1898-engineering/README.md`
  - [ ] Add Epic 7 capabilities to feature list
  - [ ] Link to event investigation documentation
  - [ ] Update architecture diagram (if needed)
  - [ ] Update quick start guide

## Dev Notes

### Epic Context

**Epic 7: Security Event Investigation Review Capability**

This story ensures users have comprehensive documentation and training materials to effectively use the event investigation capabilities. Documentation is critical for adoption and correct usage.

**Related Stories:**

- Story 7.1-7.8: All stories documented in this story
- **Story 7.9: Documentation and Training Materials** (This story)

### Example Event Investigation: AOD-4052

**Context:** This real-world ticket demonstrates the event investigation structure that documentation should reference.

**Ticket Details:**
- **Ticket ID:** AOD-4052
- **Type:** Event Alert (Claroty ICS)
- **Alert:** SSH Connection in Control Environments (#317)
- **Platform:** Claroty (ICS detection engine)

**Investigation Structure (from Epic 7 Appendix A):**
```
- Alert trigger description
- Reference to tuning ticket
- Alert Name/Signature: SSH Connection in Control Environments
- Metadata: Severity, Sensor, Detection Engine, Rule ID, Category, Timestamp
- Network Identifiers: Hostname, Asset Type, Criticality, Zone, Protocols, IPs/Ports, ASN
- Initial Disposition: True Positive? (No), Next Action (Tuning)
- Investigation History: Previously Seen?, Previously Alerted?, Asset Communication Pattern?
- Disposition Comment: Summary of findings and conclusion
```

**Use in Documentation:**
- Reference this ticket in training Module 8 (Hands-On Exercise)
- Use as example in event-investigation-workflow-deep-dive.md
- Show as "good" example in troubleshooting guide (good network docs, needs more context)

### Relevant Source Tree

```
expansion-packs/bmad-1898-engineering/
├── docs/
│   ├── user-guide/
│   │   ├── security-analyst-agent.md            (TO BE MODIFIED)
│   │   ├── security-reviewer-agent.md           (TO BE MODIFIED)
│   │   ├── event-investigation-workflow-deep-dive.md (TO BE CREATED)
│   │   └── troubleshooting-faq-best-practices.md (TO BE MODIFIED)
│   ├── architecture/
│   │   └── jira-workflow-standards.md           (TO BE MODIFIED)
│   ├── training/
│   │   ├── event-investigation-training.md      (TO BE CREATED)
│   │   └── event-investigation-review-training.md (TO BE CREATED)
│   └── quick-reference/
│       └── event-investigation-quick-reference.md (TO BE CREATED)
└── README.md                                    (TO BE MODIFIED)
```

### Documentation Standards

**BMAD Documentation Format:**

- Clear headings and table of contents
- Code examples and command usage
- Screenshots or diagrams where appropriate
- Cross-references to related documentation
- Troubleshooting sections
- Real-world examples

**Tone:**

- Professional and educational
- Step-by-step instructions
- Avoid jargon (or define when used)
- Encourage learning and improvement

### Training Material Structure

**Event Investigation Training (90 minutes):**

- Module 1: Introduction (10 min) - Overview, objectives, use cases
- Module 2: NIST Framework (10 min) - 4-phase lifecycle, Detection & Analysis phase
- Module 3: Investigation Methodology (15 min) - Hypothesis-driven, evidence collection, correlation
- Module 4: Disposition Framework (15 min) - TP/FP/BTP definitions, decision criteria, examples
- Module 5: False Positive Patterns (10 min) - ICS, IDS, SIEM common FPs
- Module 6: Cognitive Biases (10 min) - Automation bias, anchoring, confirmation bias
- Module 7: ICS/SCADA Considerations (10 min) - Safety implications, legacy systems
- Module 8: Hands-On Exercise (30 min) - AOD-4052 walkthrough with guided investigation

**Event Investigation Review Training (60 minutes):**

- Module 1: Introduction (5 min) - Review purpose, benefits, blameless culture
- Module 2: 7 Quality Dimensions (15 min) - Completeness, Accuracy, Disposition, Context, Methodology, Documentation, Bias
- Module 3: Disposition Validation (10 min) - Agreement/disagreement scenarios
- Module 4: Blameless Feedback (10 min) - Constructive language patterns, strengths first
- Module 5: Constructive Recommendations (10 min) - Actionable feedback, learning resources
- Module 6: Hands-On Review Exercise (30 min) - Review mock investigation with guided feedback

### Quick Reference Card Content

**Analyst Quick Reference (1 page):**

```
EVENT INVESTIGATION QUICK REFERENCE

Command: *investigate-event {ticket-id}

Investigation Steps:
1. ☐ Collect alert metadata (source, rule ID, severity, timestamp)
2. ☐ Document network identifiers (IPs, hostnames, protocols, ports)
3. ☐ Collect evidence (logs, correlation, historical context)
4. ☐ Assess asset context (criticality, function, business impact)
5. ☐ Perform technical analysis (protocol validation, attack vectors)
6. ☐ Determine disposition (TP/FP/BTP) with confidence level
7. ☐ Document investigation and update JIRA

Disposition Decision Tree:
- Is activity malicious? → YES: True Positive
- Is activity real but authorized? → YES: Benign True Positive
- Is alert incorrect (no activity)? → YES: False Positive

Common Pitfalls:
- Automation bias: Don't blindly trust alert severity
- Missing evidence: Always collect logs before determining disposition
- Weak reasoning: Support disposition with specific evidence
```

**Reviewer Quick Reference (1 page):**

```
EVENT INVESTIGATION REVIEW QUICK REFERENCE

Command: *review-enrichment {ticket-id} --type=event

7 Quality Dimensions:
1. Investigation Completeness (25%): All steps performed?
2. Technical Accuracy (20%): Facts correct?
3. Disposition Reasoning (20%): Evidence supports disposition?
4. Contextualization (15%): Business impact assessed?
5. Investigation Methodology (10%): Rigorous process?
6. Documentation Quality (5%): Clear and professional?
7. Cognitive Bias (5%): Objective analysis?

Quality Classifications:
- Excellent: 90-100% - Minor or no gaps
- Good: 75-89% - Solid with some improvements
- Needs Improvement: 60-74% - Significant gaps
- Inadequate: <60% - Major deficiencies

Blameless Feedback:
✓ Acknowledge strengths first
✓ Use "Consider adding..." not "You missed..."
✓ Provide specific, actionable recommendations
✓ Link to learning resources
✗ Avoid blame language
```

### Testing

**Documentation Quality Validation:**

All documentation created in this story must be validated using the following criteria:

**1. Content Completeness Checklist:**
- [ ] All required sections present per document type
- [ ] Table of Contents (TOC) included for docs >3 pages
- [ ] All examples include expected output/results
- [ ] All commands tested and verified to work
- [ ] Cross-references point to existing sections/files
- [ ] All technical terms defined on first use

**2. BMAD Documentation Standards Compliance (AC 7):**
- [ ] **Headings:** Clear hierarchy (H1 for title, H2 for sections, H3 for subsections)
- [ ] **Code Examples:** Formatted in markdown code blocks with language specified
- [ ] **Command Usage:** Shows command syntax, parameters, and example output
- [ ] **Screenshots/Diagrams:** Include alt text and context explanation
- [ ] **Cross-References:** Use relative paths, verify links work
- [ ] **Troubleshooting:** Common issues listed with solutions
- [ ] **Professional Tone:** Educational, clear, avoids jargon or defines it
- [ ] **File Naming:** kebab-case (lowercase with hyphens)
- [ ] **Line Length:** Max 120 characters for readability

**3. Example/Command Verification:**
- [ ] Test all `*investigate-event` command examples
- [ ] Test all `*review-enrichment` command examples
- [ ] Verify all ticket ID references are valid examples
- [ ] Validate all file paths in examples exist or are clearly marked as examples
- [ ] Test all workflow diagrams render correctly (if using Mermaid/PlantUML)

**4. Accuracy Validation:**
- [ ] Cross-check command syntax against agent definitions
- [ ] Verify quality dimension weights (25%, 20%, 20%, 15%, 10%, 5%, 5%)
- [ ] Confirm disposition types (TP, FP, BTP) match Epic 7
- [ ] Validate JIRA workflow states against jira-workflow-standards.md
- [ ] Verify all references to Stories 7.1-7.8 are accurate

**5. Peer Review Requirements:**
- [ ] Submit all documentation to Security Analyst for technical accuracy review
- [ ] Submit training materials to Security Reviewer for methodology review
- [ ] Request review from at least one analyst unfamiliar with Epic 7 for clarity check
- [ ] Address all review feedback before marking story Done

**6. Reference Documentation Examples:**

Use these existing BMAD-1898 docs as style/format templates:
- `expansion-packs/bmad-1898-engineering/docs/user-guide/security-analyst-agent.md`
- `expansion-packs/bmad-1898-engineering/docs/user-guide/security-reviewer-agent.md`
- `expansion-packs/bmad-1898-engineering/README.md`

**Test Standards:**
- Test framework: Manual documentation review + peer validation
- Test location: All documentation files in story tasks
- Validation gate: All 5 checklists above must pass before marking tasks complete

## Change Log

| Date       | Version | Description                                                          | Author     |
| ---------- | ------- | -------------------------------------------------------------------- | ---------- |
| 2025-11-09 | 1.1     | Validation remediation: Added Testing section, directory creation, AOD-4052 example, BMAD standards | Sarah (PO) |
| 2025-11-09 | 1.0     | Initial story creation                                               | Sarah (PO) |

## Dev Agent Record

_To be populated during development_

## QA Results

_To be populated during QA_
